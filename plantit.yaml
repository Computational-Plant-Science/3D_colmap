name: 3d_colmap
author: Suxing Liu
image: docker://computationalplantscience/3d_colmap
public: True
  
commands: python3 /opt/code/pipeline.py -i $INPUT -o $OUTPUT -g $GPUS -d $([ $GPUS -gt 0 ] && echo "COLMAP" || echo "PMVS") 


input:
  path:
  kind: directory
  filetypes:
    - jpg
    - png
output:
  path:
  include:
    patterns:
      - ply

gpu: True

jobqueue:
  walltime: "4:00:00"
  memory: "48GB"
  processes: 1
  cores: 1
